<div class="container mx-auto p-4">
  <h1 class="text-2xl font-bold mb-4">Shopping List</h1>

  <button class="btn btn-primary mb-4" (click)="shoppingListService.generateShoppingList()">
    Generate Shopping List
  </button>

  @if (shoppingList() && shoppingList()?.items) {
    <div>
      <ul class="space-y-2">
        @for (item of shoppingList()?.items; track item.name) {
          <li class="p-3 border rounded flex justify-between items-center" [class.line-through]="item.purchased">
            <span>{{ item.quantity }} {{ item.unit || '' }} {{ item.name }}</span>
            <button
              class="btn btn-sm"
              [class.btn-success]="!item.purchased"
              [class.btn-error]="item.purchased"
              (click)="togglePurchased(item.name)"
            >
              {{ item.purchased ? 'Undo' : 'Mark as Bought' }}
            </button>
          </li>
        }
      </ul>
    </div>
  }
</div>
